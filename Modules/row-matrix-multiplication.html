<!DOCTYPE html>
<html>
<head>
  <!-- The following adds MathJax to render LaTeX notation -->
  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3.0.1/es5/tex-mml-chtml.js"></script>
  <link rel="stylesheet" href="styles.css">
  <script type="text/javascript" src="scripts.js"></script>
</head>

<style>
#intro {
  position: relative;
}

#blank {
  position: relative;}

#outer {
  position: absolute;
  height: 400px;
  width: 400px;
  left: 0px;
  top: 40px;
  background-color: white;
  text-align: center;
  border: 9px solid #d3d3d3;}

  #question {
  position: relative;
  height: 35px;
}
  
#matrix {
  position: absolute;
  height: 310px;
  width: 290px;
  left: 450px;
  top: 40px;
  background-color: lightgrey;
  text-align: center;
  border: 9px solid #d3d3d3;}
  
#M11 {
  position: absolute;
  height: 20px;
  width: 60px;
  left: 10px;
  top: 50px;
  background-color: blue;
  text-align: center;}
  
#M21 {
  position: absolute;
  height: 20px;
  width: 60px;
  left: 10px;
  top: 70px;
  background-color: red;
  text-align: center;}
  
#M12 {
  position: absolute;
  height: 20px;
  width: 60px;
  left: 65px;
  top: 50px;
  background-color: blue;
  text-align: center;}
  
#M22 {
  position: absolute;
  height: 20px;
  width: 60px;
  left: 65px;
  top: 70px;
  background-color: red;
  text-align: center;}




#equals {
  position: absolute;
  height: 20px;
  width: 20px;
  left: 155px;
  top: 60px;
  background-color: lightgrey;
  text-align: center;}

  
#v1 {
  position: absolute;
  height: 20px;
  width: 20px;
  left: 130px;
  top: 50px;
  background-color: white;
  text-align: center;
  border: 1px solid black;}
  
#v2 {
  position: absolute;
  height: 20px;
  width: 20px;
  left: 130px;
  top: 70px;
  background-color: white;
  text-align: center;
  border: 1px solid black;}
  
#W1 {
  position: absolute;
  height: 20px;
  width: 60px;
  left: 185px;
  top: 50px;
  background-color: blue;
  text-align: center;}
  
#W2 {
  position: absolute;
  height: 20px;
  width: 60px;
  left: 185px;
  top: 70px;
  background-color: red;
  text-align: center;}
 
#but {
  position: absolute;
  height: 30px;
  width: 30px;
  left: 290px;
  top:30px;
  background-color: black;
  text-align: center;}

#but2 {
  position: absolute;
  height: 30px;
  width: 30px;
  left: 235px;
  top:10px;
  background-color: black;
  text-align: center;}

#sub {
  position: absolute;
  height: 30px;
  width: 280px;
  left: 50px;
  top: 10px;
  text-align: center;}

#try {
  position: absolute;
  height: 30px;
  width: 80px;
  left: 450px;
  top: 10px;
  text-align: center;}

#score {
  position: absolute;
  height: 220px;
  width: 90px;
  left: 990px;
  top: 0px;
  background-color: white;
  text-align: center;}

  #MatEq {
  position: absolute;
  top: 95px;
  height: 60px;
  width: 290px;
  background-color: lightgrey;
  text-align: center;}

#completed {
  position: absolute;
  left: 10px;
  top: 500px}

.greytext {
  color: grey;}
 </style>
 
<body>

<h2> <center>Module 4: Matrix Multiplication (Row Picture) </center></h2>

<div id="intro">
<!--
<p>
  Let us explore another perspective of matrix multiplication in the context of the rows of matrix.
  Here, we view the matrix equation \(Ax = b\) in the following framework:
  <ol type='a'>
    <li>The column vector \(x\) has \(m\) unknowns \(x_1, x_2, \ldots, x_m\);</li>
    <li>Each of the \(n\) rows of the matrix \(A\) provide coefficients of the respective unknowns.
    They represent an expression in terms of these unknowns;</li>
    <li>Each entry of the column vector \(b\) provides a value for the respective expressions mentioned in part (b).</li>
  </ol>
  In other words, we can see the equation \(Ax = b\) as a system of linear equations that an unknown vector \(x\) is supposed to satisfy.
  We shall explore this using a system of two linear equations in two unknowns, which are straight lines on a plane, in general.
</p>

<p>
  In the following questions, only the entries of matrix \(A\) and vector \(b\) can be changed.
  The entries in vector \(x\) changes in response to these entries. 
  In the case where no such \(x\) exists, there are no values displayed in \(x\).

  As you change the values in \(A\) and \(b\), ponder what these changes mean geometrically for the respective straight lines.
</p>
-->




<p>
  Let us explore another perspective of matrix multiplication in the context of the rows of matrix.
  </p>
  <p>
  We start with a matrix equation in the form 
  \(\begin{bmatrix} \textcolor{blue} {a_{11}} & \textcolor{blue}{a_{12}}\\ \textcolor{red}{a_{21}} & \textcolor{red}{a_{22}} \end{bmatrix}  
  \begin{bmatrix} x\\y \end{bmatrix}  
  =\begin{bmatrix}\textcolor{blue}{ b_1}\\\textcolor{red}{b_2} \end{bmatrix} \).  From the row perspective this matrix equation asks the question:
  </p>
  <p>
  "What pair of values \( (x,y) \) satisfies both of the linear equations \(\textcolor{blue}{a_{11}x+a_{12}y=b_1}\)
  and \(\textcolor{red}{a_{21}x+a_{22}y=b_2}\) at the same time?"
</p>
  <p>
Each one of these equations specifies a line representing all of the values of the pair \( (x,y) \) that
satisfy that equation.  At the point where these lines intersect, both equations are satisfied.  
  </p>
<p>
    For instance, in the initialized example below we have the matrix equation:
    \(\begin{bmatrix} \textcolor{blue} {2} & \textcolor{blue}{1}\\ \textcolor{red}{1} & \textcolor{red}{-2} \end{bmatrix}  
  \begin{bmatrix} x\\y \end{bmatrix}  
  =\begin{bmatrix}\textcolor{blue}{ 0}\\\textcolor{red}{1} \end{bmatrix} \)
  which represent the two equations  \(\textcolor{blue}{2x+1y=0}\)
  and \(\textcolor{red}{1x-2y=1}\).  
  The two corresponding lines intersect at the point \( \textcolor{purple} {(0.20, -0.40)}\) which 
  means that this is the solution to the matrix equation.
</p>  
<p>
In order to answer the questions you must manipulate the values inside the two by two matrix
as well as the values in the two by one vector to the right of the equals sign. In other words,
you are not solving a matrix equation but rather setting one up that has the properties 
specified in the question.

 </p>



  <p id="question">


  Ready to begin?  Click "Start" to view your first question.


  </p>
  <div class="popup" onclick="pop()"><u>Question Statistics</u>
    <div class="popuptext" id="myPopup">
      <h3 id="selected" style="text-align:center;">No Question Selected</h3>
      <table >
  
        <tr>
          <td>Users Who Have Attempted This Question</td>
          <td id="users">0</td>
        </tr>
        <tr>
          <td>Percentage of Users With a Correct Response</td>
          <td id="eventual">0</td>
        </tr>
        <tr>
          <td>Average Number of Attempts per User</td>
          <td id="attempts">0</td>
        </tr>
        <tr>
          <td>Percentage of Attempts that are Correct</td>
          <td id="overall">0</td>
        </tr>
  
      </table>
      
  
  
    </div>
  </div>
</div>

<div id="blank">
  <div id="matrix">
<h3>Matrix Equation</h3>
    <div id="M11">
    <input type="number" id="m11"   style="width: 3em" value="2" step=0.1 onChange="draw()">
    </div>

    <div id="M12">
    <input type="number" id="m12"   style="width: 3em" value="1" step=0.1 onChange="draw()">
    </div>

    <div id="M21">
    <input type="number" id="m21"   style="width: 3em" value="1" step=0.1 onChange="draw()">
    </div>

    <div id="M22">
    <input type="number" id="m22"   style="width: 3em" value="-2" step=0.1 onChange="draw()">
    </div>



    <div id="v1" style="font-style: italic; font-size: 15px;">
     x
    </div>

    <div id="v2" style="font-style: italic; font-size: 15px;">
    y  
    </div>

    <div id="equals">
    <b>
    =
    </b>
    </div>

    <div id="W1">
    <input type="number" id="w1"   style="width: 3em" value="0" step=0.1 onChange="draw()">
    </div>

    <div id="W2">
    <input type="number" id="w2"   style="width: 3em" value="1" step=0.1 onChange="draw()">
    </div>
    <div id="MatEq">
    </div>
  </div>







  <div id="sub">
    <span>
      <button  onclick="submit()">Start</button>
    </span>
    <span>
      <button  onclick="forward()">Skip</button>
    </span>
    <span>
      <button  onclick="back()">Previous</button>
    </span>
  </div>

  <div id="try">
  </div>

  <div id="outer">
  <canvas id="myCanvas" width="400" height="400"
  style="border:1px solid #c3c3c3;">
  </canvas>
  </div>



<div id="score">
</div>
  <div id="completed">
    <h2>Completed Questions:</h2>
  </div>
</div>




<script>
var Module_Number="04"

function pop() {
  sql_retrieve(Module_Number)
      var popup = document.getElementById("myPopup");
      popup.classList.toggle("show");
    }

the_time=Date.now()
grades=[]
for (u=0; u<14; u++){
grades.push([0,0])
}


sql_record(Module_Number)




    usejax=0
var initialized=0
Answered = [0,0,0,0,0,0,0,0,0,0,0,0,0]
var page=0
var quests=[
"1. Set up a matrix equation that corresponds to two lines, one with zero slope and the other with positive slope, on the diagram below.",
"2. Set up a matrix equation that corresponds to two lines, both with negative slopes, on the diagram below.",
"3. Set up a matrix equation that corresponds to two lines, one with slope 1 and the other with slope -1, such that both have positive y-intercepts.",
"4. Set up a matrix equation that corresponds to two lines, one with slope 1 and the other with slope -1, such that both have negative x-intercepts.",
"5. Find two lines, one with positive slope and the other with negative slope, that intersect somewhere strictly in the first quadrant.",
"6. Superb!! Determine two lines, with slopes -0.5 and -1 respectively that intersect somewhere within the fourth quadrant.",
"7. Wonderful! Next, find two lines, both with negative slope, that intersect somewhere on the x-axis.",
"8. Excellent! Now find two lines, both with positive slope, that intersect somewhere on the y-axis.",
"9. Terrific! Find two lines, one with positive slope and the other with negative slope, that intersect somewhere near (-1, 1).",
"10. Great!! Let's now find two lines, with slopes 1 and 2 respectively that intersect somewhere near the point (-2, -1).",
"11. Awesome, let's try a different type of question. Set the first row of the matrix A to have only entries with negative signs, and the second row to have only entries with positive signs. Find a value of vector b so that the two lines intersect at exactly one point.",
"12. Nice! Set the first row of the matrix A to have only entries with negative signs, and the second row to have only entries with positive signs. Find a value of vector b so that the two lines intersect at more than one point.",
"13. Way to go! Set the first row of the matrix A to have only entries with negative signs, and the second row to have only entries with positive signs. Find value of vector b so that the two lines never intersect.",
"Good job!!!"]
function make_mat(){
var a11=(document.getElementById("m11").value)
var a21=(document.getElementById("m21").value)



var a12=(document.getElementById("m12").value)
var a22=(document.getElementById("m22").value)


var i1=(document.getElementById("v1").value)
var i2=(document.getElementById("v2").value)
var c1=(document.getElementById("w1").value)
var c2=(document.getElementById("w2").value)


var Mat=document.getElementById('MatEq')
if (usejax==1){
Mat_string='Matrix Equation: \\[ \\begin{bmatrix}\\textcolor{blue}{'+a11+'}&\\textcolor{blue}{'+a12+'}\\\\'
Mat_string+='\\textcolor{red}{'+a21+'}&\\textcolor{red}{'+a22+'} \\end{bmatrix}'

Mat_string+='\\begin{bmatrix}\\textcolor{black}{x}\\\\ \\textcolor{black}{y} \\end{bmatrix}'
Mat_string+='=\\begin{bmatrix}\\textcolor{blue}{'+c1+'}\\\\ \\textcolor{red}{'+c2+'} \\end{bmatrix}\\]'
Mat_string+='Equations of the Lines:\\[ \\textcolor{blue}{'+a11+'x+'+a12+'y='+c1+'}        \\]'
Mat_string+='\\[ \\textcolor{red}{'+a21+'x+'+a22+'y='+c2+'}        \\]'
Mat_string+='Intersection Point:\\[ \\textcolor{purple}{ ('+i1+','+i2+')} \\]'
Mat.innerHTML=Mat_string
MathJax.typesetPromise()}


if (usejax==0){
if (a12>=0){a12s='+ '+a12}
if (a12<0){a12s='- '+(-a12)}
if (a22>=0){a22s='+ '+a22}
if (a22<0){a22s='- '+(-a22)}
    Mat.innerHTML='<h3>Equations of the Lines:</h3>\
    <span  style="color:blue; font-size:20px">'+a11+'<i>x</i> '+a12s+'<i>y</i> = '+c1+'</span> \
    <p style="color:red; font-size:20px">'+a21+'<i>x</i> '+a22s+'<i>y</i> = '+c2+'</p> \
    <h3>Point of Intersection:</h3> \
    <span style="color:purple; font-size:20px"> ('+i1+','+i2+')</span>'


}


}

score()
draw()
function draw(){

  a11=document.getElementById("m11").value
  a21=document.getElementById("m21").value

  a12=document.getElementById("m12").value
  a22=document.getElementById("m22").value

  var c1=document.getElementById("w1").value
  var c2=document.getElementById("w2").value


  y0=(1*c1+2*a11)/(1*a12+0.001)
  y1=(1*c1-2*a11)/(1*a12+0.001)

  y2=(1*c2+2*a21)/(1*a22+0.001)
  y3=(1*c2-2*a21)/(1*a22+0.001)

  Y0=200-100*y0
  Y1=200-100*y1
  Y2=200-100*y2
  Y3=200-100*y3

  var canvas = document.getElementById("myCanvas");
  var ctx = canvas.getContext("2d");
  ctx.clearRect(0, 0, canvas.width, canvas.height)
  ctx.beginPath();
  ctx.strokeStyle="black"
  ctx.lineWidth=1
  ctx.moveTo(0, 200);
  ctx.lineTo(400, 200);
  ctx.stroke();
  ctx.beginPath();
  ctx.strokeStyle="black"
  ctx.lineWidth=1
  ctx.moveTo(200, 0);
  ctx.lineTo(200, 400);
  ctx.stroke();


  ctx.beginPath();
  ctx.strokeStyle="blue"
  ctx.lineWidth=2
  ctx.moveTo(0, Y0);
  ctx.lineTo(400, Y1);
  ctx.stroke();


  ctx.beginPath();
  ctx.strokeStyle="red"
  ctx.lineWidth=2
  ctx.moveTo(0, Y2);
  ctx.lineTo(400, Y3);
  ctx.stroke();


  if (a11*a22!=a12*a21){
    var x=(a22*c1-a12*c2)/(a11*a22-a12*a21)
    var y=(a11*c2-a21*c1)/(a11*a22-a12*a21)
    document.getElementById("v1").value=x.toFixed(2)
    document.getElementById("v2").value=y.toFixed(2)}

  if (a11*a22==a12*a21){
    document.getElementById("v1").value=''
    document.getElementById("v2").value=''}
    make_mat()
}





function score(){
  scoreBoard = document.getElementById("score")
  while(scoreBoard.firstChild){
    scoreBoard.removeChild(scoreBoard.firstChild)
  }

  var scoreCard = document.createElement('h1');
  scoreCard.style.fontSize="x-large"
  scoreCard.style.textAlign="left"
  scoreCard.innerHTML="Score Card"
  scoreBoard.appendChild(scoreCard);

  for (i=0; i<Answered.length; i++){
    question_id = 'q' + i
    var question = document.createElement('div');
    question.style.fontSize = "x-large"
    question.style.textAlign = "left"
    question.id = question_id;
    question.innerHTML =  i + 1;
    if (Answered[i]==0){
      question.style.color = 'red'
      Check = question.innerHTML
      Check += " &#x2610"
      question.innerHTML = Check
    }
    if (Answered[i]==1){
      question.style.color = 'green'
      Check = question.innerHTML
      Check += " &#9745"
      question.innerHTML = Check
    }
    scoreBoard.appendChild(question);
  }
}

function forward(){
  if (page<Answered.length){
    page+=1
    document.getElementById("question").innerText=quests[page]
    document.getElementById("try").innerText=""
}
}

function back(){
  if (page>0){
    page-=1
    document.getElementById("question").innerText=quests[page]
    document.getElementById("try").innerText=""
 }
}


function submit(){
  if (initialized==0){

  document.getElementById("sub").getElementsByTagName("button")[0].innerText="Submit"
  document.getElementById("question").innerText=quests[page]
  }

  if (initialized==1){

    M11=document.getElementById("m11").value
    M21=document.getElementById("m21").value
    M12=document.getElementById("m12").value
    M22=document.getElementById("m22").value

    V1=document.getElementById("v1").value
    V2=document.getElementById("v2").value
    
    W1=document.getElementById("w1").value
    W2=document.getElementById("w2").value
    
    var feed=document.getElementById("try").innerText
    if (feed==""){
      document.getElementById("try").innerText="Try Again"
    }
    if (feed=="Not Quite"){
      document.getElementById("try").innerText="Try Again"
    }
    if (feed=="Try Again"){
      document.getElementById("try").innerText="Not Quite"
    }

    if (grade(page,M11,M21,M12,M22,W1,W2)=="true"){
      document.getElementById("try").innerText=""

      // This creates a new element to display completed questions
      var answeredQuestion = document.createElement('div')
      answeredQuestion.innerHTML = quests[page]
      answeredQuestion.innerHTML += ' Your answer: '+M11+'<i>x</i> + '+M12+'<i>y</i> = '+W1
      answeredQuestion.innerHTML += ', '+M21+'<i>x</i> + '+M22+'<i>y</i> = '+W2
      answeredQuestion.setAttribute('class', 'greytext')
      var completedQuestions = document.getElementById("completed")
      completedQuestions.appendChild(answeredQuestion)

      page+=1
      document.getElementById("question").innerText=quests[page]
    }
  }
  initialized=1
}

function grade(page,m11,m21,m12,m22,w1,w2){
  correct="false"

  var rowSign1=m11*m12
  var rowSign2=m21*m22
  // With v1 and v2 truncated to 2 decimal places, it seems that arithmetic operations
  // do not work so well. We shall create x and y and use these values instead
  var x=(m22*w1-m12*w2)/(m11*m22-m12*m21)
  var y=(m11*w2-m21*w1)/(m11*m22-m12*m21)

  switch(page){
    case 0:
      var cond1 = -m11/m12==0 && rowSign2<0
      var cond2 = rowSign1<0 && -m21/m22==0
      if (cond1 || cond2){
        correct="true"
      }
      break
    
    case 1:
      if (rowSign1>0 && rowSign2>0){
        correct="true"
      }
      break
    
    case 2:
      var cond1=(-m11/m12==1 && -m21/m22==-1)
      var cond2=(-m11/m12==-1 && -m21/m22==1)
      if ((cond1 || cond2) && w1/m12>0 && w2/m22>0){
        correct="true"
      }
      break

    case 3:
      var cond1=(-m11/m12==1 && -m21/m22==-1)
      var cond2=(-m11/m12==-1 && -m21/m22==1)
      if ((cond1 || cond2) && w1/m11<0 && w2/m21<0){
        correct="true"
      }
      break

    case 4:
      var cond1=(rowSign1<0 && rowSign2>0)
      var cond2=(rowSign1>0 && rowSign2<0)
      if ((cond1 || cond2) && x>0 && y>0){
        correct="true"
      }
      break

    case 5:
      var cond1=(-m11/m12==-0.5 && -m21/m22==-1)
      var cond2=(-m11/m12==-1 && -m21/m22==-0.5)
      if ((cond1 || cond2) && x>=0 && y<=0){
        correct="true"
      }
      break

    case 6:
      if (rowSign1>0 && rowSign2>0 && y==0){
        correct="true"
      }
      break

    case 7:
      if (rowSign1<0 && rowSign2<0 && x==0){
        correct="true"
      }
      break

    case 8:
      var cond1=(rowSign1<0 && rowSign2>0)
      var cond2=(rowSign1>0 && rowSign2<0)
      if ((cond1 || cond2) && (x+1)**2+(y-1)**2<=1){
        correct="true"
      }
      break

    case 9:
      var cond1=(-m11/m12==1 && -m21/m22==2)
      var cond2=(-m11/m12==2 && -m21/m22==1)
      if ((cond1 || cond2) && (x+2)**2+(y+1)**2<=1){
        correct="true"
      }
      break

    case 10:
      if (m11<0 && m12<0 && m21>0 && m22>0 && m11*m22!=m12*m21){
        correct="true"
      }
      break

    case 11:
      if (m11<0 && m12<0 && m21>0 && m22>0 && m11*m22==m12*m21 && m11*w2==w1*m21){
        correct="true"
      }
      break

    case 12:
      if (m11<0 && m12<0 && m21>0 && m22>0 && m11*m22==m12*m21 && m11*w2!=w1*m21){
        correct="true"
      }
      break
  }
  if (correct == "true"){
    Answered[page] = 1
  }

if (correct=="false"){
grades[page][1]+=1}
if (correct=="true"){
grades[page][0]+=1}
sql_record(Module_Number)


  
  score()
  return(correct)
}

</script>
</body>
</html>